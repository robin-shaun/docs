---
title: リトリーバルモード
---


ユーザーがナレッジベースのQ\&A用AIアプリケーションを構築する際に、Difyはアプリケーション内で複数のデータセットが関連付けられている場合に、検索時に2つの検索モードをサポートします：N-of-1検索モードとMulti-Path検索モードです。

<img
src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/learn-more/extended-reading/retrieval-augment/36277c7971c542aad7ff208f555cfc67.png"
className="mx-auto"
alt=""
/>

### 検索設定

ユーザーの意図に基づいてすべてのデータセットを照合し、複数のデータセットから同時に関連するテキストフラグメントを同時に検索します。Rerankを経た後、ユーザーのクエリに最も適合する結果がマルチパス検索の結果から選ばれます。このプロセスには、設定されたRerankモデルのAPIが必要です。マルチパス検索モードでは、検査が関連するすべてのデータセットからユーザーのクエリに関連するテキストコンテンツを検索し、得られた結果を統合した後、Rerankモデルを用いてドキュメントを意味的に再ランク付けします。

マルチパス検索モードでは、Rerankモデルを設定するがお勧めします。Rerankモデルの構成方法については、こちらをご覧ください：🔗[Rerank](/ja-jp/learn-more/extended-reading/retrieval-augment/rerank)

以下は、マルチパス検索モードの技術フローチャートです：

<img
src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/learn-more/extended-reading/retrieval-augment/64007d543f1c5c3f2e87d606d79d04d3.png"
className="mx-auto"
alt=""
/>

マルチパス検索モードは、モデルの推論能力やデータセットの説明に依存しないため、複数のデータセットを跨いで高品質な検索結果を得ることができます。さらに、Rerankを組み込むことで文書の検索効果を効果的に向上させることができます。したがって、複数のデータセットに関連付けられたナレッジベースのQ\&Aアプリを作成する際には、検索モードをマルチパス検索に設定することをお勧めします。

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

<CardGroup cols="2">
    <Card
        title="このページを編集する"
        icon="pen-to-square"
        href="https://github.com/langgenius/dify-docs/edit/main/ja-jp/learn-more/extended-reading/retrieval-augment/retrieval.mdx"
    >
        直接貢献することでドキュメントの改善にご協力ください
    </Card>
    <Card
        title="問題を報告する"
        icon="github"
        href="https://github.com/langgenius/dify-docs/issues/new?title=ドキュメントの問題%3A%20e&body=%23%23%20問題の説明%0A%3C%21--%20発見した問題について簡単に説明してください%20--%3E%0A%0A%23%23%20ページリンク%0Ahttps%3A%2F%2Fgithub.com%2Flanggenius%2Fdify-docs%2Fblob%2Fmain%2Fja-jp/learn-more/extended-reading/retrieval-augment%2Fretrieval.mdx%0A%0A%23%23%20提案される変更%0A%3C%21--%20特定の変更案がある場合は、ここで説明してください%20--%3E%0A%0A%3C%21--%20ドキュメントの品質向上にご協力いただきありがとうございます！%20--%3E"
    >
        エラーを見つけたり提案がありますか？お知らせください
    </Card>
</CardGroup>
