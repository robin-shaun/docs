---
title: よくある質問
---


### 1. パスワードリセットメールが長時間届かない場合はどうしたらいいですか？

`.env`ファイルに`Mail`パラメータを設定する必要があることをご確認ください。メール設定に関する詳細は、「[環境変数の説明：メール関連の設定](/ja-jp/getting-started/install-self-hosted/environments)」セクションをご参照ください。

設定の変更後は、以下のコマンドを実行して、サービスをリスタートさせてください。

```javascript
docker compose down
docker compose up -d
```

それでもまだメールが届かない場合は、メールサービスが正常に動作しているか、またメールがスパムフィルターに捕まっていないかをご確認ください。

### 2. ワークフローが複雑すぎてノードの上限を超えた場合、どう対処しますか？

コミュニティ版では、`web/app/components/workflow/constants.ts`で手動で `MAX_TREE_DEPTH` の単一ブランチの深さの上限を調整できます。私たちのデフォルト値は50ですが、自分で拡張した場合、あまりにも深いブランチはパフォーマンスに影響を与える可能性があることに注意してください。

### 3. 各ワークフローノードのランタイムを指定するには？

`.env` ファイル内の `TEXT_GENERATION_TIMEOUT_MS` 変数を変更することで、各ノードのランタイムを調整することができます。これにより、特定のプロセスがタイムアウトすることによるアプリケーション全体のサービス停止を防ぐことができます。

### 4. 管理者アカウントのパスワードをリセットする方法

Docker Composeを使ってデプロイしている場合、Docker Composeの実行中に以下のコマンドでパスワードをリセットすることができます：

```
docker exec -it docker-api-1 flask reset-password
```

メールアドレスと新しいパスワードを入力するプロンプトが表示されます。例えば：

```
dify@my-pc:~/hello/dify/docker$ docker compose up -d
[+] Running 9/9
 ✔ Container docker-web-1         Started                                                              0.1s 
 ✔ Container docker-sandbox-1     Started                                                              0.1s 
 ✔ Container docker-db-1          Started                                                              0.1s 
 ✔ Container docker-redis-1       Started                                                              0.1s 
 ✔ Container docker-weaviate-1    Started                                                              0.1s 
 ✔ Container docker-ssrf_proxy-1  Started                                                              0.1s 
 ✔ Container docker-api-1         Started                                                              0.1s 
 ✔ Container docker-worker-1      Started                                                              0.1s 
 ✔ Container docker-nginx-1       Started                                                              0.1s 
dify@my-pc:~/hello/dify/docker$ docker exec -it docker-api-1 flask reset-password
None of PyTorch, TensorFlow >= 2.0, or Flax have been found. Models won't be available and only tokenizers, configuration and file/data utilities can be used.
sagemaker.config INFO - Not applying SDK defaults from location: /etc/xdg/sagemaker/config.yaml
sagemaker.config INFO - Not applying SDK defaults from location: /root/.config/sagemaker/config.yaml
Email: hello@dify.ai
New password: newpassword4567
Password confirm: newpassword4567
Password reset successfully.
```

### 5. ポートの変更方法

Docker Compose を使用してデプロイする場合、`.env` 設定を変更することで Dify のアクセスポートをカスタマイズできます。

Nginx 関連の設定を変更する必要があります：

```
EXPOSE_NGINX_PORT=80
EXPOSE_NGINX_SSL_PORT=443
```

他のデプロイに関する質問は[ここに](/ja-jp/learn-more/faq/install-faq)います。

### 6. docker-api-1 でのデータベース接続エラーの解決方法とは？

**問題の詳細**：`http://localhost`にアクセスする際に`Internal Server Error`が表示され、`docker-api-1`のログに以下のようなエラーが記録される場合：

```bash
FATAL:  no pg_hba.conf entry for host "172.19.0.7", user "postgres", database "dify", no encryption
```

**解決策**：dbコンテナ内の`/var/lib/postgresql/pgdata/pg_hba.conf`を変更し、エラーメッセージに記載されているネットワークセグメントを認証リストに追加します。例：

```bash
docker exec -it docker-db-1 sh -c "echo 'host all all 172.19.0.0/16 trust' >> /var/lib/postgresql/data/pgdata/pg_hba.conf"
docker-compose restart
```

他のデプロイに関する質問は[ローカルデプロイに関する](../../learn-more/faq/install-faq)をご確認ください。

### 7. ナレッジベースのファイルアップロードサイズ制限を変更するには？

`.env`ファイル内の`UPLOAD_FILE_SIZE_LIMIT`パラメータを変更して、デフォルトの制限を調整できます。同時に、潜在的な問題を避けるために`NGINX_CLIENT_MAX_BODY_SIZE`パラメータの値も更新する必要があります。

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

<CardGroup cols="2">
    <Card
        title="このページを編集する"
        icon="pen-to-square"
        href="https://github.com/langgenius/dify-docs-mintlify/edit/main/ja-jp/getting-started/install-self-hosted/faq.mdx"
    >
        直接貢献することでドキュメントの改善にご協力ください
    </Card>
    <Card
        title="問題を報告する"
        icon="github"
        href="https://github.com/langgenius/dify-docs-mintlify/issues/new?title=ドキュメントの問題%3A%20&body=%23%23%20問題の説明%0A%3C%21--%20発見した問題について簡単に説明してください%20--%3E%0A%0A%23%23%20ページリンク%0Ahttps%3A%2F%2Fgithub.com%2Flanggenius%2Fdify-docs-mintlify%2Fblob%2Fmain%2Fja-jp/getting-started/install-self-hosted%2Ffaq.mdx%0A%0A%23%23%20提案される変更%0A%3C%21--%20特定の変更案がある場合は、ここで説明してください%20--%3E%0A%0A%3C%21--%20ドキュメントの品質向上にご協力いただきありがとうございます！%20--%3E"
    >
        エラーを見つけたり提案がありますか？お知らせください
    </Card>
</CardGroup>
