---
title: バージョン管理
---

## はじめに

バージョン管理とは、**Difyのチャットフローやワークフロー管理インターフェース**の核となる機能です。この機能により、ユーザーはアプリの複数バージョンを効率的に管理および公開することができます。

バージョン管理機能を使用することで、ユーザーは**下書きバージョン**と**公開バージョン**を明確に区別し、必要に応じて**過去のバージョン**にロールバックすることが可能です。これにより、アプリの改良と管理がより簡単で直感的になり、継続的な更新と安定性が確保されます。

## 関連用語の説明

- **下書きバージョン（Current Draft）**： Difyのチャットフローやワークフロー管理インターフェースにおいて、**現在の作業状態を示す唯一のバージョン**です。ユーザーはこのバージョンでチャットフローやワークフローの編集、修正、プレビューを行うことができます。

<img
  src="https://assets-docs.dify.ai/2025/03/38296a597c0ca31b5fb70be2234f2363.png"
  width="400"
  className="mx-auto"
  alt="Current draft"
/>

- **公開バージョン（Published Version）**： ユーザーがオンラインに公開したすべてのバージョンの総称です。最新の公開バージョンと過去の公開バージョンの総称です。公開操作を実行するたびに、新しい公開バージョンが生成されます。

- **最新公開バージョン（Latest Version）**： ユーザーが最後にオンラインに公開したバージョンです。Difyのバージョン管理インターフェースでは、これを`Latest`としてマークし、他の過去の公開バージョンと区別しています。

<img
  src="https://assets-docs.dify.ai/2025/03/e4c06a0817c30cf9e8893487c889cb02.png"
  width="350"
  className="mx-auto"
  alt="Latest version"
/>

- **過去の公開バージョン（Previous Version）**： 以前に公開されたが、現在は最新ではなくなったバージョンを指します。

<img
  src="https://assets-docs.dify.ai/2025/03/4cd05033b93d84b53496f3d02e88601f.png"
  width="200"
  className="mx-auto"
  alt="Previous version"
/>

- **バージョンの復元（Restore）**： バージョン管理の復元機能を使用すると、アプリを特定の過去のバージョンに戻すことができます。

<img
  src="https://assets-docs.dify.ai/2025/03/607a69b5355886b9ae8d23a08e818e35.jpg"
  width="200"
  className="mx-auto"
  alt="Restore feature"
/>

## 主な機能

- **バージョン一覧の表示**： バージョン管理インターフェースで、公開されたすべてのバージョンとその詳細情報を確認できます。

- **バージョンの検索**： フィルター機能を使用して、必要なバージョンを素早く見つけることができます。

- **新バージョンの公開**： 新しいアプリバージョンを公開し、名前と説明を付けることができます。

- **公開バージョン情報の編集**： 公開済みバージョンの名前や説明を後から編集することができます。

- **過去バージョンの削除**： 不要になった過去のバージョンを削除し、バージョンリストを整理できます。

- **過去バージョンへのロールバック**： バージョン復元機能を使用して、過去のバージョンの内容を下書きに読み込み、必要に応じて修正することができます。

## バージョン一覧の表示方法

1. 右上の**バージョン管理**ボタンをクリックして、バージョン管理インターフェースにアクセスします。

<img
  src="https://assets-docs.dify.ai/2025/03/eed667bbc9498425342c09039054cf98.png"
  className="mx-auto"
  alt="View all versions"
/>

2. バージョン管理インターフェースには、時系列の降順で並べられたバージョンリストが表示されます。各バージョンの**名前、説明情報、公開日時、公開者**を確認できます。

3. *（オプション）* バージョンリストが多数ある場合は、**さらに読み込む**ボタンをクリックすると、より多くのバージョン履歴を表示できます。

<img
  src="https://assets-docs.dify.ai/2025/03/df9aeb06128f11089dc2294f0338e2ca.png"
  className="mx-auto"
  alt="Load more"
/>

## 特定のバージョンを検索する方法

- **自分が公開したバージョンを探す**： **フィルター**ボタンをクリックするとフィルターオプションが表示されます。以下の2つの選択肢があります：  
    
    - **すべてのバージョン**： あなた自身と他のユーザーが公開したすべてのバージョンを表示します。
    - **自分が公開したバージョン**： あなたが公開したバージョンのみを表示します。
    必要に応じて、適切なフィルターを選択して、対応するバージョンをご確認いただけます。

    <img
      src="https://assets-docs.dify.ai/2025/03/0bf8fef8858671a8fef160f49dd83dad.jpg"
      width="200"
      className="mx-auto"
      alt="All or only yours"
    />

- **名前付きバージョンを検索**: 名前が付けられたバージョンのみを表示したい場合は、**名前付きバージョンを検索**オプションをクリックしてください。このオプションを有効にすると、名前付きバージョンのみがバージョンリストに表示され、名前のないバージョンは非表示になります。

<img
  src="https://assets-docs.dify.ai/2025/03/2473121caa2e25ad1a76ee42a4127fb4.jpg"
  width="200"
  className="mx-auto"
  alt="Only show named versions"
/>

## 新しいバージョンの公開方法

1. チャットフロー/ワークフローの作成が完了したら、画面右上の**公開する > 公開更新**をクリックすると、現在のバージョンが公開されます。

<img
  src="https://assets-docs.dify.ai/2025/03/26f3f324ab4ecb965708d553ddd78d97.png"
  className="mx-auto"
  alt="Publish new version"
/>

2. 公開後、この最新バージョンは`Latest`としてマークされ、関連情報がバージョン管理インターフェースに表示されます。

<img
  src="https://assets-docs.dify.ai/2025/03/67e95de17577bc272addad6c33f8ea59.png"
  className="mx-auto"
  alt="Latest version marked"
/>

## 公開済みバージョンの情報編集方法

1. バージョン管理インターフェースで、編集したいバージョンを見つけ、そのバージョンの右上にあるアクションメニューをクリックします。

- 以前にデフォルト名でバージョンを保存した場合は、**このバージョンに名前を付ける**をクリックします。

<img
  src="https://assets-docs.dify.ai/2025/03/ac149f63da6611d7080d305dd3fad65c.jpg"
  width="200"
  className="mx-auto"
  alt="Name this version"
/>

- すでに名前を付けている場合は、**バージョン情報を編集**をクリックして、バージョン名と説明を修正できます。

<img
  src="https://assets-docs.dify.ai/2025/03/1d840edf979132a9bbf1e065f95e663c.jpg"
  width="200"
  className="mx-auto"
  alt="Edit version info"
/>

2. **公開する**をクリックして、バージョン情報を公開します。

<img
  src="https://assets-docs.dify.ai/2025/03/838e5a12aa277bada6c2a4a214450fa5.jpg"
  className="mx-auto"
  alt="Edit version info"
/>

## 履歴バージョンを削除するには？

1. バージョン管理画面で、削除したい公開済みバージョンを見つけ、そのバージョンの右上にある操作メニューをクリックします。

2. **削除**を選択すると、確認ダイアログが表示されます。

<img
  src="https://assets-docs.dify.ai/2025/03/25ad1999fc9f6f44fcac04526ac5563a.jpg"
  width="200"
  className="mx-auto"
  alt="Delete version"
/>

3. **削除**をクリックすると、そのバージョンがバージョン管理画面から削除されます。

<img
  src="https://assets-docs.dify.ai/2025/03/9326fd0463d024aac1907c83a37fe13b.jpg"
  className="mx-auto"
  alt="Delete Version Confirmed"
/>

<Info>
- **下書きバージョン**（Current Draft）は、現在のチャットフロー/ワークフロー画面で編集中のバージョンであり、削除できません。
- **最新公開バージョン**（「Latest」とマークされているバージョン）は、ユーザーが最後に公開したバージョンであり、削除できません。
</Info>

## 特定の公開済みバージョンに戻すには？

1. バージョン管理画面で、ロールバックしたい履歴バージョンを見つけ、そのバージョンの右上にある操作メニューをクリックします。

2. **ロールバック**を選択すると、確認ダイアログが表示されます。

<img
  src="https://assets-docs.dify.ai/2025/03/c96b714accc29df8e46e711782a7a6a9.jpg"
  width="200"
  className="mx-auto"
  alt="Restore version"
/>

3. **ロールバック**をクリックすると、現在の下書きバージョンがその履歴バージョンに置き換えられます。

<img
  src="https://assets-docs.dify.ai/2025/03/f3a6e13f2e910f5c7917f52fe77bdfca.jpg"
  className="mx-auto"
  alt="Restore version confirmed"
/>

## 使用シナリオ

以下では、典型的なユースケースを通じて、各バージョン間の関係を説明します。

<Info>
同じ色は同じバージョン内容を表します。
</Info>

### ステージ1

- システムが自動的に**下書きバージョン** Version Aを作成します。

<img
  src="https://assets-docs.dify.ai/2025/03/35ece9d5d5d4d8c46a3fb5ceae4d0c15.jpeg"
  className="mx-auto"
  alt="Phase 1"
/>

### ステージ2：初回公開

- Version Aが公開され、**最新公開バージョン**になります。
- システムが自動的に**下書きバージョン** Version Bを作成します。

<img
  src="https://assets-docs.dify.ai/2025/03/3d1f66cdeb08710f01462a6b0f3ed0a8.jpeg"
  className="mx-auto"
  alt="Phase 2"
/>

### ステージ3：再公開

- Version Bが公開され、**最新公開バージョン**になります。
- Version Aは**履歴公開バージョン**になります。
- システムが自動的に**下書きバージョン** Version Cを作成します。

<img
  src="https://assets-docs.dify.ai/2025/03/92ffbf88a3cbeeeeab47c1bd8b4f7198.jpeg"
  className="mx-auto"
  alt="Phase 3"
/>

### ステージ4：ロールバック操作

- Version Aが**下書きバージョン**として復元され、Version Cが上書きされます。
- Version Bは引き続き**最新公開バージョン**です。

<img
  src="https://assets-docs.dify.ai/2025/03/541f1891416af90dab5b51bfec833249.jpeg"
  className="mx-auto"
  alt="Phase 4"
/>

### ステージ5：ロールバック後の公開

- 復元されたVersion Aが公開され、**最新公開バージョン**になります。
- 以前のVersion AとVersion Bは**履歴公開バージョン**になります。
- システムが自動的に**下書きバージョン** Version Dを作成します。

<img
  src="https://assets-docs.dify.ai/2025/03/3572a4f2edef166c3f14e4ec4e68b297.jpeg"
  className="mx-auto"
  alt="Phase 5"
/>

### 全体フロー

<img
  src="https://assets-docs.dify.ai/2025/03/dc7c15a4dfafb72ce7fffea294d5b5e5.gif"
  className="mx-auto"
  alt="Workflow"
/>

## よくある質問

- **下書きバージョン、公開済みバージョン、最新公開バージョン、履歴公開バージョンの違いは何ですか？**

<table>
  <thead>
    <tr>
      <th>定義</th>
      <th>操作方法</th>
      <th>オンラインアクセス</th>
      <th>削除可能か</th>
      <th>ロールバック可能か</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>下書きバージョン</td>
      <td>編集・修正を行い、公開（Publish）操作でオンライン環境に反映させることができます。</td>
      <td>不可（公開操作後のみアクセス可能）</td>
      <td>削除できません。</td>
      <td>ロールバックできません。</td>
    </tr>
    <tr>
      <td>最新公開バージョン</td>
      <td>直接編集はできません。新しいドラフトバージョンを作成し、公開することで更新できます。</td>
      <td>可能（現在のオンラインバージョン）</td>
      <td>削除できません。</td>
      <td>可能</td>
    </tr>
    <tr>
      <td>過去の公開バージョン</td>
      <td>ロールバック（Restore）操作で過去のバージョンをドラフトバージョンに読み込み、編集・公開できます。</td>
      <td>不可（バージョンリストにのみ存在）</td>
      <td>削除できません。</td>
      <td>可能</td>
    </tr>
    <tr>
      <td>公開済みバージョン</td>
      <td>最新公開バージョンと過去の公開バージョンの総称です。</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

## よくある質問

- **履歴バージョンへのロールバック後、現在の下書きは消えてしまいますか？**

履歴バージョンにロールバックすると、選択したバージョンが新しい下書きとして自動的に作成されます。この下書きで編集を行い、公開することができます。

そのため、ロールバック操作を行うと、既存の下書きは失われますのでご注意ください。

- **バージョン管理機能は、どのタイプのアプリで利用できますか？**

現在、バージョン管理機能は**チャットフロー**と**ワークフロー**のみ対応しています。**チャットボット**、**テキスト生成**、**エージェント**には対応していません。

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

<CardGroup cols="2">
    <Card
        title="このページを編集する"
        icon="pen-to-square"
        href="https://github.com/langgenius/dify-docs/edit/main/ja-jp/guides/management/version-control.mdx"
    >
        直接貢献することでドキュメントの改善にご協力ください
    </Card>
    <Card
        title="問題を報告する"
        icon="github"
        href="https://github.com/langgenius/dify-docs/issues/new?title=ドキュメントの問題%3A%20on-cont&body=%23%23%20問題の説明%0A%3C%21--%20発見した問題について簡単に説明してください%20--%3E%0A%0A%23%23%20ページリンク%0Ahttps%3A%2F%2Fgithub.com%2Flanggenius%2Fdify-docs%2Fblob%2Fmain%2Fja-jp/guides/management%2Fversion-control.mdx%0A%0A%23%23%20提案される変更%0A%3C%21--%20特定の変更案がある場合は、ここで説明してください%20--%3E%0A%0A%3C%21--%20ドキュメントの品質向上にご協力いただきありがとうございます！%20--%3E"
    >
        エラーを見つけたり提案がありますか？お知らせください
    </Card>
</CardGroup>
