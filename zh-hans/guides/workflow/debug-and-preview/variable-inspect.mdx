---
title: 变量检查
---

变量检查（Variable Inspect）用于帮助开发者实时追踪、检查与编辑当前应用中各类变量背后所对应的数据，它将会记录各个节点在执行过后所产生的数据。

通过变量检查，开发者可以直观地观察上次运行时各个节点的输出变量，同时可以在其中直接进行修改，观察新数据对于后续节点的影响，更快地定位问题并验证数据，提升应用的调试效率。

## 功能价值

[变量](/zh-hans/guides/workflow/variables)是连接节点之间的重要桥梁，也是实现动态流程控制的基础。在工作流应用中，变量记录着用户的输入数据，以及各节点内的输出数据，例如大模型的输出，工具的输出结果、对话历史上下文和环境配置参数等。

> 工作流应用是对 Chatflow 和 Workflow 类型应用的统称。

变量检查视图可以被理解为是一个缓存变量值的功能，提供以下核心功能：

- **实时变量监控**：自动捕获并显示节点执行后产生的所有变量值，记录工作流的输入和输出数据
- **变量值编辑与模拟**：允许开发者手动修改大多数类型变量的值，无需重新运行上游节点即可测试不同条件下的节点行为
- **异常数据追踪**：显示变量类型与实际值，帮助快速定位数据格式不匹配或结构错误等问题
- **全局状态管理**：在单一界面集中展示变量信息，包括系统变量、环境变量和节点内的自定义变量等

## 使用方法

变量检查位于画布底部，随着工作流运行实时更新变量值。

当某个节点运行后，其输出变量将自动出现在变量检查中，便于开发者查找。该功能可以帮助开发者管理当前工作流应用内所涉及的所有变量所对应的数据，它展示工作流中所有已创建变量及其当前值，包含节点输出变量、会话变量/循环变量。其状态为可编辑/清除，代表当前工作流的实时状态。 

![](https://assets-docs.dify.ai/2025/06/38f26d7339f64abfdfb6955b1c34f4ae.png)

支持的主要操作包括：

- **查看**：展开变量查看当前结构及内容（支持对象/数组层级展开）
- **清除**：点击 **Clear** 按钮清除当前所有已记录的变量缓存，用于重新调试
- **重置**：恢复至上一次运行时的变量状态
- **编辑**：修改某个变量所对应的数据

## 支持的变量和数据类型

### 变量类型示例

| 变量类别 | 示例变量 | 描述 | 是否可以被编辑
|---------|---------|------|
| **系统变量** | sys.query, sys.user_id, sys.conversation_id | 系统提供的当前会话信息 |
| **节点输出变量** | output, structured_output, usage, loop_variable | 各节点的输出结果 |
| **异常变量** | error_message, error_type | 节点的异常输出结果 |
| **自定义变量** | [用户定义名称], 文件变量 | 用户在开始节点中自定义的输入变量，上传的文件变量 |
| **环境变量** | OPENAI_KEY, PORT | 系统环境配置 |
| **循环变量** | OPENAI_KEY, PORT | 系统环境配置 |

### 数据类型示例

| 类型 | 描述 | 示例 |
|------|------|------|
| `string` | 文本类型，常用于模型输入输出 | `"Hello, world!"` |
| `number` | 数值类型，适用于评分、标记等场景 | `0.85` |
| `boolean` | 布尔值，用于条件判断节点 | `true` / `false` |
| `object` | 结构化 JSON 数据 | `{ "key": "value" }` |
| `array` | 列表数组，适用于多项输出/上下文记录 | `[1, 2, 3]` |
| `secret` | 隐私变量（如 API 密钥） | `******` |

## 实践示例

> 该部分文档待补充，最好是给一个 DSL 示例，还在准备

假设存在一个工作流：数据获取(A 节点) → 数据处理(B 节点) → 结果展示(C 节点)。

B 节点的功能完全依赖于 A 节点的输出数据，并且不同的数据将影响 B 节点的运行情况。

运行 A 节点后的输出变量值将保存至“变量检查”内。开发者可以修改“变量检查”内的数据，验证对于 B 节点的影响而无需手动再次运行 A 节点。

逐步执行过程中，你可以观察局部工作流的运行情况，基于结果及时调整节点的配置、数据流向和处理逻辑，确保工作流的效率和准确性。
