---
title: 变量检查
---

> 本文中的工作流应用是对 Chatflow 和 Workflow 类型应用的统称。

变量检查（Variable Inspect）用于帮助开发者实时追踪、检查与编辑当前应用中各类变量背后所对应的数据。

通过变量检查，开发者可以直观地观察和理解在某个应用流程内，数据如何通过变量在应用内进行流转和传递。调试应用时能够基于变量的实时值更快的定位问题并验证数据，提升应用的调试效率。

## 功能与价值

[变量](/zh-hans/guides/workflow/variables)是连接节点之间的重要桥梁，也是实现动态流程控制的基础。在工作流应用中，变量承载着从用户输入到模型输出的各类数据，包括对话历史上下文、配置参数等。变量检查作为专门的变量管理工具，提供以下核心功能：

- **实时变量监控**：自动捕获并显示节点执行后产生的所有变量值，实时反映工作流的运行状态
- **变量值编辑与模拟**：允许开发者手动修改大多数类型变量的值，无需重新运行上游节点即可测试不同条件下的工作流行为
- **异常数据追踪**：显示变量类型与实际值，帮助快速定位数据格式不匹配或结构错误等问题
- **全局状态管理**：在单一界面集中展示所有系统变量、环境变量和节点内的定义变量，提供完整的工作流运行状态视图

## 使用说明

变量检查位于画布底部，随着工作流运行实时更新变量值。当某个节点运行后，其输出变量将自动出现在变量检查中，便于开发者查找。该功能可以帮助开发者管理当前工作流应用内所涉及的所有变量所对应的数据，它展示工作流中所有已创建变量及其当前值，包含节点输出变量、会话变量/循环变量。其状态为可编辑/清除，代表当前工作流的实时状态。 

![](https://assets-docs.dify.ai/2025/06/38f26d7339f64abfdfb6955b1c34f4ae.png)

支持的主要操作包括：

- **查看值**：展开变量查看当前结构及内容（支持对象/数组层级展开）
- **清除变量**：点击 **Clear** 按钮清除当前所有已记录的变量缓存，用于重新调试
- **重置值**：恢复至上一次运行时的变量状态

> 当画布中无任何节点运行时，变量检查将自动收起。

## 变量检查支持的变量类型

### 变量类型

| 变量类别 | 示例变量 | 描述 |
|---------|---------|------|
| **系统变量** | sys.query, sys.user_id, sys.conversation_id | 系统提供的当前会话信息 |
| **会话历史变量** | chat_history, custom_chat_history | 对话历史记录 |
| **节点输出变量** | output, structured_output, usage, loop_variable | 各节点的输出结果 |
| **异常变量** | error_message, error_type | 节点的异常输出结果 |
| **自定义变量** | [用户定义名称], 文件变量 | 用户在开始节点中自定义的输入变量，上传的文件变量 |
| **环境变量** | OPENAI_KEY, PORT | 系统环境配置 |

### 数据类型

| 类型 | 描述 | 示例 | 是否可编辑 |
|------|------|------|--------------|
| `string` | 文本类型，常用于模型输入输出 | `"Hello, world!"` | ✅ |
| `number` | 数值类型，适用于评分、标记等场景 | `0.85` | ✅ |
| `boolean` | 布尔值，用于条件判断节点 | `true` / `false` | ✅ |
| `object` | 结构化 JSON 数据 | `{ "key": "value" }` | ✅ |
| `array` | 列表数组，适用于多项输出/上下文记录 | `[1, 2, 3]` | ✅ |
| `secret` | 隐私变量（如 API 密钥） | `******` | ❌ |


## 最佳实践

- 在流程开发过程中，建议每完成一步配置后通过变量检查验证节点输出是否正确。
- 出现节点报错时，优先查看变量检查中的 `error_message` 和 `error_type` 获取诊断信息。
- 编辑变量值后可直接运行下游节点，模拟真实运行情况，辅助判断流程稳定性。
