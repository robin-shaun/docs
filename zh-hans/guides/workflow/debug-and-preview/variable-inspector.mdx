---
title: 变量池 / 变量检视器
---

变量池（Variable Inspector）用于帮助开发者实时追踪、检查与编辑当前应用中各类变量背后所对应的数据。通过变量池，开发者可以直观地观察和理解数据如何通过变量在应用内进行流转，并基于变量的实时值进行调试、验证与问题定位，提升应用的调试效率。

![](https://assets-docs.dify.ai/2025/04/c09ea3d640099d58cfa82757738a6446.png)

## 功能与价值

[变量](/zh-hans/guides/workflow/variables)是连接节点之间的重要桥梁，也是实现动态流程控制的基础。在工作流应用中，变量不仅承载用户输入与模型输出，还用于保存对话历史上下文、配置参数等场景。变量池可以帮助开发者更好的管理各个变量，提供以下功能场景：

- **可视化变量流转**：清晰查看每个节点的输出结果与其对应变量值；
- **辅助调试分析**：快速定位节点中出现异常数据或结构错误，提升排查效率；
- **灵活变量模拟**：支持手动修改变量值，模拟不同输入或边界条件；
- **全局变量管理**：集中查看应用内的所有环境变量、系统变量、节点变量等，理解当前工作流的运行状态。

## 使用说明

变量池位于画布底部，随着工作流运行实时更新变量值。当某个节点运行后，其输出变量将自动出现在变量池中，开发者可以展开查看具体内容。

支持的主要操作包括：

- **查看值**：展开变量查看当前结构及内容（支持对象/数组层级展开）
- **编辑值**：对于部分变量（如 string、object）支持直接手动修改
- **清除变量**：点击「Clear」按钮清除当前变量缓存，常用于重新调试
- **重置值**：恢复至上一次运行时的变量状态

当画布中无任何节点运行时，变量池将自动收起，并显示默认提示。

## 变量池支持的变量类型

### 变量类型

| 变量类别 | 示例变量 | 描述 |
|---------|---------|------|
| **系统变量** | sys.query, sys.user_id, sys.conversation_id | 系统提供的当前会话信息 |
| **会话历史变量** | chat_history, custom_chat_history | 对话历史记录 |
| **节点输出变量** | output, structured_output, usage | LLM节点输出结果 |
| **工具结果变量** | result, error_message | 工具调用返回值 |
| **知识库变量** | similar_docs, knowledge, score | 知识库检索结果 |
| **流程控制变量** | condition_result, current_item, index | 条件和循环节点状态 |
| **自定义变量** | [用户定义名称] | 通过变量节点创建的变量 |
| **环境变量** | OPENAI_KEY, PORT | 系统环境配置 |

### 数据类型

| 类型 | 描述 | 示例 | 是否可编辑 |
|------|------|------|--------------|
| `string` | 文本类型，常用于模型输入输出 | `"Hello, world!"` | ✅ |
| `number` | 数值类型，适用于评分、标记等场景 | `0.85` | ✅ |
| `boolean` | 布尔值，用于条件判断节点 | `true` / `false` | ✅ |
| `object` | 结构化 JSON 数据 | `{ "key": "value" }` | ✅ |
| `array` | 列表数组，适用于多项输出/上下文记录 | `[1, 2, 3]` | ✅ |
| `secret` | 隐私变量（如 API 密钥） | `******` | ❌ |

## 最佳实践

- 在流程开发过程中，建议每完成一步配置后通过变量池验证节点输出是否正确。
- 出现节点报错时，优先查看变量池中的 `error_message` 和 `error_type` 获取诊断信息。
- 编辑变量值后可直接运行下游节点，模拟真实运行情况，辅助判断流程稳定性。

变量池是提升工作流构建效率与质量的重要工具。合理利用变量池，可显著降低调试成本，加速从构建到交付的过程。

为了便于查看整体的变量所承载的背后数据，以及帮助开发者通过变量更好的调试应用，变量池可以帮助开发者管理当前工作流应用内所涉及的所有变量所对应的数据，它展示工作流中所有已创建变量及其当前值，包含节点输出变量、会话变量/循环变量。其状态为可编辑/清除，代表当前工作流的实时状态。 

## 相关内容

- [调试节点](/zh-hans/guides/workflow/debug-and-preview/debug-node)
- [运行历史](/zh-hans/guides/workflow/debug-and-preview/history)
- [工作流构建概览](/zh-hans/guides/workflow/build-flow-app)
